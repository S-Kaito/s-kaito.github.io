# スペクトル分析  
## スペクトルの概念  
  
一定区間の波の特徴の平均を分析すること  
  
**フーリエ変換**  
周期の異なるsin波の振幅・位相をそれぞれ変化させる  
変化させたsin波を足し合わせて、あるフレームの波を再現する  
[formula03](formula03.png)  
  
**フレーム**  
ある一定の時間の波  
  
**フレームシフト**  
ある範囲のフレームをずらしながら取得する  
  
## スペクトルの種類  
振幅スペクトル　振幅の大きさ  
パワースペクトル　区間内の成分の面積  
位相スペクトル　位相のずれ  
  
## 窓関数  
あるフレームの値と窓関数を掛け合わせて、  
フレームの端の部分に余計な周波数成分が現れないようにする  
  
**メインローブ**  
窓関数をデシベルで見たときに中心に近い部分  
これはできるだけ横幅が狭いほうが良い  
  
**再度ローブ**  
窓関数をデシベルで見たときに端に近い部分  
これはできるだけ縦幅が小さいほうが良い  
  
**スペクトル漏れ**  
本来存在しない成分が現れること  
  
## スペクトログラム  
  
縦に周波数、横に時間、成分の多さを黒の濃さで表した図  
  
**狭帯域分析**  
フレームの長さを長めに取り、分析する  
周波数の分解能が高いので横縞が見られる  
  
**広帯域分析**  
フレームの長さを短めに取り、分析する  
時間方向の分解能が高いので縦縞が見られる  
  
## フォルマント  
スペクトル包絡した際の頂点  
  
**スペクトル包絡**  
音声に表れる細かい成分を均す  
  
## ケプストラム  
スペクトルの対数をフーリエ変換したもの  
音声の特徴を**声道情報(スペクトル包絡)**と  
**音源情報(声帯振動周期)**に分離できる  
  
これにより低い値と高い値に分けられる  
これらをそれぞれ**低ケフレンシー(スペクトル包絡)**  
と**高ケフレンシー**と呼ぶ  
  
高ケフレンシーから声帯振動周期(逆数は基音の周波数)  
  
## メル周波数ケプストラム係数(MFCC)  
振幅スペクトルに対して複数個の三角形を窓関数としてその合計を求める  
合計は三角形の数だけできるので、それを離散コサイン変換を行う  
  
声の高さに影響されずに特性の音素を表すような数列を取得できる  
  
**離散コサイン変換**  
コサイン関数で表される複数個のフィルタを  
掛け合わせて数列を作成する  
  
## 線形予測分析  
ある時刻tからp秒前までの値`t-p~t`から信号x(t)を求められるような  
係数a[1: t - p]を求める  
  
`x(t) = g(t) + a[1]*x(t - 1) + a[2]*x(t - 2) ~~~ a[p]*x(t - p)`  
